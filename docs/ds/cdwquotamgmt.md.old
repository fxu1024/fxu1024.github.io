---
layout: default
title: CDW Quota Management
nav_order: 17
parent: Operations
grand_parent: Data Service
---

# CDW Quota Management
{: .no_toc }

- TOC
{:toc}

---

## 1. Introduction to the test environment

|CDP Runtime version |CDP PvC Base 7.1.7 SP2|
|CM version |Cloudera Manager 7.11.3.2|
|ECS version |CDP PvC DataServices 1.5.2|
|OS version |Centos 7.9|
|K8S version |RKE 1.25.14|
|Whether to enable Kerberos |Yes|
|Whether to enable TLS |Yes|
|Auto-TLS |Yes|
|Kerberos |FreeIPA|
|LDAP |FreeIPA|
|DB Configuration |Embedded|
|Vault |Embedded|
|Docker registry |Embedded|
|Install Method |Internet|

## 2. Basic Concept

- By enabling quota management in Cloudera Data Warehouse (CDW) on Private Cloud, you can assign quota-managed resource pools for environments, Data Catalogs, Virtual Warehouses, and Data Visualization instances.

## 3. 

- Log in to CDW as admin. Go to Advanced Configuration and select the Enable quota management option. and then Click Update.

![](../../assets/images/ds/cdwquota01.png)

72cores
300GB

kubectl exec -it cdp-embedded-db-0 -n cdp -- bash
psql -P pager=off -d db-resourcepoolmanager

select metadata  from requests order by created_at;

{"cdpRequestId":"fa6682f5-2f16-4739-9501-38e5ae63a44f","cdpActorCrn":"crn:altus:iam:us-west-1:21ba2b50-e2d1-44de-844f-05e41082203c:machineUser:pvc-service-machine-user/e5d00114-22de-413b-80e3-a7d2995053ee","requestBody":"{\"pool\":{\"path\":\"root.default.observability\",\"quota\":{\"cpu\":\"2\",\"memory\":\"1G\"},\"owners\":[\"21ba2b50-e2d1-44de-844f-05e41082203c\"],\"admins\":[\"21ba2b50-e2d1-44de-844f-05e41082203c\"],\"policy\":{\"validity\":\"-1\",\"allocation\":{\"distribution\":\"ELASTIC\",\"order\":\"FIFO\"}},\"metadata\":{\"namespace\":\"observability\"}}}","requestType":"CreateResourcePool"}
 
 {"cdpRequestId":"c8218777-99a3-4a31-9d5c-53d040ce3520","cdpActorCrn":"crn:altus:iam:us-west-1:21ba2b50-e2d1-44de-844f-05e41082203c:machineUser:pvc-service-machine-user/e5d00114-22de-413b-80e3-a7d2995053ee","requestBody":"{\"pool\":{\"path\":\"root.default.ecstest-c51569f2\",\"quota\":{\"cpu\":\"4\",\"memory\":\"30G\"},\"owners\":[\"21ba2b50-e2d1-44de-844f-05e41082203c\"],\"admins\":[\"21ba2b50-e2d1-44de-844f-05e41082203c\"],\"policy\":{\"validity\":\"-1\",\"allocation\":{\"distribution\":\"ELASTIC\",\"order\":\"FIFO\",\"queueing\":true}},\"metadata\":{\"clusterId\":\"liftie-8wqkf202\"}}}","requestType":"CreateResourcePool"}
 
 {"cdpRequestId":"c8218777-99a3-4a31-9d5c-53d040ce3520","cdpActorCrn":"crn:altus:iam:us-west-1:21ba2b50-e2d1-44de-844f-05e41082203c:machineUser:pvc-service-machine-user/e5d00114-22de-413b-80e3-a7d2995053ee","requestBody":"{\"pool\":{\"path\":\"root.default.ecstest-c51569f2.monitoring-namespace\",\"quota\":{\"cpu\":\"4\",\"memory\":\"30G\"},\"owners\":[\"21ba2b50-e2d1-44de-844f-05e41082203c\"],\"admins\":[\"21ba2b50-e2d1-44de-844f-05e41082203c\"],\"policy\":{\"validity\":\"-1\",\"allocation\":{\"distribution\":\"ELASTIC\",\"order\":\"FIFO\",\"queueing\":true}},\"metadata\":{\"clusterId\":\"liftie-8wqkf202\",\"namespace\":\"ecstest-c51569f2-monitoring-platform\"}}}","requestType":"CreateResourcePool"}
 
 {"cdpRequestId":"2ae56cdd-e43b-409c-a6a0-8009b233a963","cdpActorCrn":"crn:altus:iam:us-west-1:21ba2b50-e2d1-44de-844f-05e41082203c:user:5caa8635-4399-438a-acc2-19de8e0a267a","requestBody":"{\"pool\":{\"path\":\"root.default.high\",\"quota\":{\"cpu\":\"48\",\"memory\":\"200G\",\"nvidia.com/gpu\":\"0\"},\"policy\":{\"validity\":\"NEVER EXPIRES\",\"allocation\":{\"distribution\":\"INELASTIC\",\"order\":\"FIFO\"}},\"metadata\":{\"tags\":{\"priority\":\"high\"}},\"scheduling\":{\"preemption\":{},\"priority\":{}}}}","requestType":"CreateResourcePool"}
 
|PATH|quota_cpu|quota_memory|validity|distribution|order|queueing|clusterId|namespace|
|root.default.observability|2|1G|-1|ELASTIC|FIFO|false||observability|
|root.default.ecstest-c51569f2|4|30G|-1|ELASTIC|FIFO|true|liftie-8wqkf202||
|root.default.ecstest-c51569f2.monitoring-namespace|4|30G|-1|ELASTIC|FIFO|true|liftie-8wqkf202|ecstest-c51569f2-monitoring-platform|
|root.default.high|
 
 

## 5. Conclusion
